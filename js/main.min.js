const apiKey="21b33fd780b898195cf7d24b7be50c85",weatherBody=document.querySelector(".weather__body");async function getWeather(e){const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?units=metric&q=${e}&appid=${apiKey}`);if(t.ok){const e=t.json();return console.log(e),e}return!1}const buttons=document.querySelector(".weather__btns"),btn=document.querySelectorAll(".weather__btn");buttons.addEventListener("click",(async function(e){if(weatherBody.innerHTML='<div class=\'loading\' ><img src="images/loading.gif" alt=""></div>',e.target.classList.contains("weather__btn")){btn.forEach((e=>{e.classList.remove("active")})),e.target.closest("button").classList.add("active"),console.log("OK!"),console.log(e.target.innerText);const t=await getWeather(e.target.innerText);if(!1===t)weatherBody.innerHTML="Error suka!!((";else{console.log(t);const e=Math.round(10*t.main.feels_like)/10,n=Math.round(10*t.main.temp)/10,a=t.main.sea_level,i=`\n    <div class="weather__main-info">\n      <h1 class="weather__location">${t.name}</h1>\n      <p class="weather__state">${t.weather[0].main}</p>\n      <p class="weather__temp"> ${n+" °C"}</p>\n      <p class="weather__feels-like">Feels like: ${e} °C</p>\n    </div>\n    <div class="weather__icon">\n      <img src="https://openweathermap.org/img/w/${t.weather[0].icon}.png" alt="" class="weather__icon-img">\n    </div>\n    <div class="weather__more-info">\n      <div class="weather__more-info-body">\n        <div class="weather__wind">\n          <div class="weather__wind-direction">Wind direction: ${t.wind.deg+"°"}</div>\n          <div class="weather__wind-speed">Speed: ${t.wind.speed} mps</div>\n        </div>\n        <p class="weather__sea-level">Sea level: ${null==a?"No info":a+"m"}</p>\n      </div>\n    </div>\n    `;weatherBody.innerHTML=i}}}));